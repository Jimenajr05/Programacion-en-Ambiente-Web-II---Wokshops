<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Listar Cursos</title>

  <script>
    // Función que obtiene los cursos y los muestra en la tabla
    function loadCourses() {

      // Crear petición AJAX
      const ajax = new XMLHttpRequest();

      // Cuando llega la respuesta del servidor
      ajax.addEventListener('load', () => {

        // Convertir la respuesta a JSON
        const courses = JSON.parse(ajax.responseText);

        // Obtener la tabla
        const table = document.getElementById('courses');

        // Agregar cada curso a la tabla
        courses.forEach(c => {
          table.innerHTML +=
            '<tr>' +
              '<td>' + c.name + '</td>' +
              '<td>' + c.credits + '</td>' +
            '</tr>';
        });
      });

      // Solicitud GET a la API
      ajax.open('GET', 'http://localhost:3001/course');

      // Enviar solicitud
      ajax.send();
    }
  </script>
</head>

<body onload="loadCourses()">

<h1>Lista de Cursos</h1>

<button onclick="location.href='index.html'">Volver</button>

<br><br>

<table border="1">
  <tr>
    <th>Nombre</th>
    <th>Créditos</th>
  </tr>
  <tbody id="courses"></tbody>
</table>

</body>
</html>